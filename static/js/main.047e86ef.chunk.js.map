{"version":3,"sources":["components/TimerList/Timer/Timer.module.css","components/App.module.css","components/Button/MyButton.module.css","components/TimerList/TimerList.module.css","redux/timeResucer.js","redux/Redux.js","components/Input/Input.jsx","style/style.js","components/Button/MyButton.jsx","components/TimerList/Timer/Timer.jsx","components/TimerList/TimerList.jsx","components/Project/Project.jsx","components/App.js","index.js"],"names":["module","exports","initState","time","rootReducer","combineReducers","timeReducer","state","action","type","filter","obj","id","map","u","isStarted","start","dateContinue","activeSecond","newTimer","timerObj","name","isMute","store","createStore","composeWithDevTools","applyMiddleware","thunk","MyInput","label","variant","value","setValue","TextField","onChange","e","target","fullWidth","useStyles","makeStyles","theme","root","margin","spacing","width","MyButton","classes","dispatch","useDispatch","lastId","useSelector","length","useState","timerName","setTimerName","className","s","Wrapper","Input","Button","color","onClick","dateStart","Date","now","onCreateNewTimer","Timer","timerId","index","timer","setActiveSecond","useEffect","setTimeout","Math","round","localActiveSecond","JSON","parse","localStorage","getItem","console","log","setItem","stringify","clearTimeout","style","Name","seconds","days","floor","hours","minutes","sToH","stopTimer","continueTimer","onСontinue","deactivateTimer","TimerList","timeList","Project","App","Title","Content","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.047e86ef.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Timer\":\"Timer_Timer__1E4QJ\",\"Button\":\"Timer_Button__2JqV1\",\"Name\":\"Timer_Name__2jlMb\",\"Date\":\"Timer_Date__jWjca\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__kZ_Iy\",\"Content\":\"App_Content__h1TnG\",\"Title\":\"App_Title__1eSDk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"MyButton_Wrapper__1lQQQ\",\"Input\":\"MyButton_Input__1YSEI\",\"Button\":\"MyButton_Button__S3VaH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TimerList\":\"TimerList_TimerList__1p15b\"};","/*const initState = {\r\n    time: [\r\n        {id: \"\", name: \"\", start: \"\", isStarted: false, isMute: true, count}\r\n    ],\r\n}*/\r\nconst initState = {\r\n    time: [],\r\n}\r\nexport default function timeReducer(state = initState, action) {\r\n    switch (action.type) {\r\n        case \"DEACTIVATE_TIMER\": {\r\n            return {...state, time: state.time.filter(obj => obj.id != action.id)}\r\n        }\r\n        case \"CONTINUE_TIMER\": {\r\n            return {\r\n                ...state,\r\n                time: state.time.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return {\r\n                            ...u, ...{isStarted: true}, ...{start:action.dateContinue-action.activeSecond*1000}\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        case \"SET_ACTIVE_SECOND\": {\r\n            return {\r\n                ...state,\r\n                time: state.time.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return {\r\n                            ...u, ...{activeSecond: action.activeSecond}\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        case \"STOP_TIMER\": {\r\n            return {\r\n                ...state,\r\n                time: state.time.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return {\r\n                            ...u, ...{isStarted: false}, ...{activeSecond: action.activeSecond}\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        case \"SET_LOCAL_STORAGE_STATE\":{\r\n            return {\r\n                ...state,\r\n                time: action.state\r\n            }\r\n        }\r\n\r\n        case\"CREATE_NEW_TIMER\": {\r\n            let newTimer = {\r\n                id: action.timerObj.id,\r\n                name: !action.timerObj.name ? `Tаймер № ${action.timerObj.id}` : action.timerObj.name,\r\n                start: action.timerObj.start,\r\n                isStarted: true,\r\n                isMute: false,\r\n            }\r\n            return {...state, time: [...state.time, newTimer]}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const deactivateTimer = (id) => {\r\n    return {\r\n        type: \"DEACTIVATE_TIMER\",\r\n        id,\r\n    }\r\n}\r\n\r\nexport const stopTimer = (id, activeSecond) => {\r\n    return {\r\n        type: \"STOP_TIMER\",\r\n        id,\r\n        activeSecond\r\n    }\r\n}\r\nexport const continueTimer = (id,activeSecond, dateContinue) => {\r\n    return {\r\n        type: \"CONTINUE_TIMER\",\r\n        id,\r\n        activeSecond,\r\n        dateContinue\r\n    }\r\n}\r\nexport const setSecond = (id, localActiveSecond) => {\r\n    return {\r\n        type: \"SET_ACTIVE_SECOND\",\r\n        id,\r\n        localActiveSecond,\r\n    }\r\n}\r\nexport const setLocalStorageState = (state) => {\r\n    return {\r\n        type: \"SET_LOCAL_STORAGE_STATE\",\r\n        state:  state==null? [] : state\r\n    }\r\n}\r\nexport const createNewTimer=(timerObj)=>{\r\n    return{\r\n        type: \"CREATE_NEW_TIMER\",\r\n        timerObj,\r\n    }\r\n}\r\n\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nimport timeReducer from \"./timeResucer\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst rootReducer = combineReducers({\r\n    timeReducer\r\n})\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst MyInput = ({id, label, variant, value, setValue}) => {\r\n    return (\r\n        <div>\r\n            <TextField\r\n                onChange={(e)=>setValue(e.target.value)}\r\n                value={value}\r\n                id={id}\r\n                label={label}\r\n                variant={variant}\r\n                fullWidth\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyInput;","import { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n            width: '25ch',\r\n        },\r\n    },\r\n}));\r\nexport default useStyles;","import React, {useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport MyInput from \"../Input/Input\";\r\n\r\nimport useStyles from \"../../style/style\"\r\nimport {Button} from \"@material-ui/core\";\r\nimport s from\"./MyButton.module.css\"\r\nimport {createNewTimer} from \"../../redux/timeResucer\";\r\n\r\nconst MyButton = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch()\r\n    const lastId = useSelector(state => state.timeReducer.time.length)\r\n    const [timerName, setTimerName] = useState('');\r\n    const onCreateNewTimer = () => {\r\n        let dateStart = Date.now();\r\n        dispatch(createNewTimer({\r\n            name:timerName,\r\n            start:dateStart,\r\n            id:lastId+1\r\n        }))\r\n    }\r\n    return (\r\n        <div >\r\n            <form className={classes.root} className={s.Wrapper} noValidate autoComplete=\"off\">\r\n                <MyInput className={s.Input} value={timerName} setValue={setTimerName} id=\"outlined-basic\"\r\n                         label=\"Введите название таймера\" variant=\"filled\"/>\r\n                <Button className={s.Button} variant=\"contained\" color=\"secondary\" onClick={() => onCreateNewTimer()}>Старт</Button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyButton;","import React, {useEffect, useState} from 'react';\r\nimport s from \"./Timer.module.css\"\r\nimport {Button} from \"@material-ui/core\";\r\n\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {continueTimer, deactivateTimer, setSecond, stopTimer} from \"../../../redux/timeResucer\";\r\n\r\nconst Timer = ({index, timer}) => {\r\n    const isStarted = useSelector(state => state.timeReducer.time[index].isStarted)\r\n    const time = useSelector(state => state.timeReducer.time)\r\n    const start = useSelector(state => state.timeReducer.time[index].start)\r\n    const dispatch = useDispatch()\r\n\r\n    const onStop = (id) => {\r\n        dispatch(stopTimer(id,activeSecond))\r\n    }\r\n    const onСontinue = (id) => {\r\n        let dateContinue =Date.now()\r\n        dispatch(continueTimer(id,activeSecond,dateContinue))\r\n    }\r\n    const onDeactivate = (id) => {\r\n        dispatch(deactivateTimer(id))\r\n    }\r\n\r\n    let [activeSecond, setActiveSecond] = useState(0)\r\n    let timerId\r\n    useEffect(() => {\r\n        if (isStarted === true) {\r\n            timerId = setTimeout(() => {\r\n                setActiveSecond(Math.round((Date.now() - start) * 0.001))\r\n                dispatch(setSecond(timer.id, activeSecond))\r\n            }, 1000);\r\n        }\r\n        if (isStarted === false) {\r\n                setActiveSecond(JSON.parse(localStorage.getItem(\"state\"))[index].activeSecond)\r\n        }\r\n        console.log(time)\r\n        localStorage.setItem('state', JSON.stringify(time))\r\n        return()=>{\r\n            clearTimeout(timerId);\r\n        }\r\n    }, [activeSecond, isStarted])\r\n\r\n    function sToH(seconds){//stackoverflow.com\r\n        const days = Math.floor(seconds / (24*60*60));\r\n        seconds -= days * (24*60*60);\r\n        const hours    = Math.floor(seconds / (60*60));\r\n        seconds -= hours   * (60*60);\r\n        const minutes  = Math.floor(seconds / (60));\r\n        seconds -= minutes * (60);\r\n        return ((0<days)?(days+\":\"):\"\")+hours+\":\"+minutes+\":\"+seconds;\r\n    }//\r\n    return (\r\n        <div style={{\"grid-area\": `${index + 1} / 2 / ${index + 2} / 3`}} className={s.Timer}>\r\n            <div className={s.Name}>{timer.name}</div>\r\n            <div className={s.Date}>{sToH(activeSecond)}</div>\r\n            {!!isStarted === true\r\n                ? <Button onClick={() => onStop(timer.id)} variant=\"contained\" color=\"primary\">Стоп</Button>\r\n                : <Button onClick={() => onСontinue(timer.id)} variant=\"contained\" color=\"primary\" className={s.Button}>Продолжить</Button>}\r\n            <Button onClick={() => onDeactivate(timer.id)} variant=\"contained\" color=\"secondary\" className={s.Button}>Удалить</Button>\r\n        </div>\r\n\r\n    )\r\n        ;\r\n};\r\n\r\nexport default Timer;","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport s from \"./TimerList.module.css\"\r\nimport Timer from \"./Timer/Timer\";\r\n\r\nconst TimerList = () => {\r\n    const timeList = useSelector(state => state.timeReducer.time)\r\n    return (\r\n        <div className={s.TimerList}>\r\n            {!!timeList && timeList.map((timer,index)=><Timer key={index+\"list\"} index={index} timer={timer}/>)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TimerList;","import React, {useEffect} from 'react';\r\nimport s from \"../App.module.css\";\r\nimport MyButton from \"../Button/MyButton\";\r\nimport TimerList from \"../TimerList/TimerList\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setLocalStorageState} from \"../../redux/timeResucer\";\r\n\r\nconst Project = () => {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(setLocalStorageState(JSON.parse(localStorage.getItem(\"state\"))))\r\n    },[])\r\n    return (\r\n        <div>\r\n            <div className={s.App}>\r\n                <h2 className={s.Title}>Таймер</h2>\r\n                <div className={s.Content}><MyButton/></div>\r\n            </div>\r\n            <TimerList/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Project;","\nimport {Provider} from \"react-redux\";\nimport {store} from \"../redux/Redux\";\n\nimport Project from \"./Project/Project\";\n\nfunction App() {\n\n    return (\n        <Provider store={store}>\n            <Project/>\n        </Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}