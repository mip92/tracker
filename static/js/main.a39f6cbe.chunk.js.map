{"version":3,"sources":["components/TimerList/Timer/Timer.module.css","components/App.module.css","components/Button/MyButton.module.css","components/TimerList/TimerList.module.css","redux/timeReduser.js","redux/Redux.js","components/Input/Input.jsx","style/style.js","components/Button/MyButton.jsx","components/TimerList/Timer/Timer.jsx","components/TimerList/TimerList.jsx","components/Project/Project.jsx","components/App.js","index.js"],"names":["module","exports","initState","time","rootReducer","combineReducers","timeReducer","state","action","type","filter","obj","id","map","u","isStarted","start","dateContinue","activeSecond","localActiveSecond","newTimer","timerObj","name","isMute","store","createStore","composeWithDevTools","applyMiddleware","thunk","MyInput","label","variant","value","setValue","TextField","onChange","e","target","fullWidth","useStyles","makeStyles","theme","root","margin","spacing","width","MyButton","classes","dispatch","useDispatch","lastId","useSelector","length","useState","timerName","setTimerName","className","s","Wrapper","Input","Button","color","onClick","dateStart","Date","now","onCreateNewTimer","Timer","timerId","index","timer","setActiveSecond","useEffect","setTimeout","Math","round","JSON","parse","localStorage","getItem","setItem","stringify","clearTimeout","style","Name","seconds","days","floor","hours","minutes","sToH","stopTimer","continueTimer","onСontinue","deactivateTimer","TimerList","timeList","Project","App","Title","Content","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a39f6cbe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Timer\":\"Timer_Timer__1E4QJ\",\"Button\":\"Timer_Button__2JqV1\",\"Name\":\"Timer_Name__2jlMb\",\"Date\":\"Timer_Date__jWjca\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__kZ_Iy\",\"Content\":\"App_Content__h1TnG\",\"Title\":\"App_Title__1eSDk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"MyButton_Wrapper__1lQQQ\",\"Input\":\"MyButton_Input__1YSEI\",\"Button\":\"MyButton_Button__S3VaH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TimerList\":\"TimerList_TimerList__1p15b\"};","/*const initState = {\r\n    time: [\r\n        {id: \"\", name: \"\", start: \"\", isStarted: false, isMute: true, count}\r\n    ],\r\n}*/\r\nconst initState = {\r\n    time: [],\r\n}\r\nexport default function timeReducer(state = initState, action) {\r\n    switch (action.type) {\r\n        case \"DEACTIVATE_TIMER\": {\r\n            return {...state, time: state.time.filter(obj => obj.id != action.id)}\r\n        }\r\n        case \"CONTINUE_TIMER\": {\r\n            return {\r\n                ...state,\r\n                time: state.time.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return {\r\n                            ...u, ...{isStarted: true}, ...{start:action.dateContinue-action.activeSecond*1000}\r\n                        }\r\n                    }else return u\r\n                })\r\n            }\r\n        }\r\n        case \"SET_ACTIVE_SECOND\": {\r\n            return {\r\n                ...state,\r\n                time: state.time.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return {\r\n                            ...u, activeSecond: action.localActiveSecond\r\n                        }\r\n                    }else return u\r\n                })\r\n            }\r\n        }\r\n        case \"STOP_TIMER\": {\r\n            return {\r\n                ...state,\r\n                time: state.time.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return {\r\n                            ...u, ...{isStarted: false}, ...{activeSecond: action.activeSecond}\r\n                        }\r\n\r\n                    }else return u\r\n                })\r\n            }\r\n        }\r\n        case \"SET_LOCAL_STORAGE_STATE\":{\r\n            return {\r\n                ...state,\r\n                time: action.state\r\n            }\r\n        }\r\n\r\n        case\"CREATE_NEW_TIMER\": {\r\n            let newTimer = {\r\n                id: action.timerObj.id,\r\n                name: !action.timerObj.name ? `Tаймер № ${action.timerObj.id}` : action.timerObj.name,\r\n                start: action.timerObj.start,\r\n                isStarted: true,\r\n                isMute: false,\r\n            }\r\n            return {...state, time: [...state.time, newTimer]}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const deactivateTimer = (id) => {\r\n    return {\r\n        type: \"DEACTIVATE_TIMER\",\r\n        id,\r\n    }\r\n}\r\n\r\nexport const stopTimer = (id, activeSecond) => {\r\n    return {\r\n        type: \"STOP_TIMER\",\r\n        id,\r\n        activeSecond\r\n    }\r\n}\r\nexport const continueTimer = (id,activeSecond, dateContinue) => {\r\n    return {\r\n        type: \"CONTINUE_TIMER\",\r\n        id,\r\n        activeSecond,\r\n        dateContinue\r\n    }\r\n}\r\nexport const setSecond = (id, localActiveSecond) => {\r\n    return {\r\n        type: \"SET_ACTIVE_SECOND\",\r\n        id,\r\n        localActiveSecond,\r\n    }\r\n}\r\nexport const setLocalStorageState = (state) => {\r\n    return {\r\n        type: \"SET_LOCAL_STORAGE_STATE\",\r\n        state:  state==null? [] : state\r\n    }\r\n}\r\nexport const createNewTimer=(timerObj)=>{\r\n    return{\r\n        type: \"CREATE_NEW_TIMER\",\r\n        timerObj,\r\n    }\r\n}\r\n\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nimport timeReducer from \"./timeReduser\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst rootReducer = combineReducers({\r\n    timeReducer\r\n})\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst MyInput = ({id, label, variant, value, setValue}) => {\r\n    return (\r\n        <div>\r\n            <TextField\r\n                onChange={(e)=>setValue(e.target.value)}\r\n                value={value}\r\n                id={id}\r\n                label={label}\r\n                variant={variant}\r\n                fullWidth\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyInput;","import { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n            width: '25ch',\r\n        },\r\n    },\r\n}));\r\nexport default useStyles;","import React, {useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport MyInput from \"../Input/Input\";\r\n\r\nimport useStyles from \"../../style/style\"\r\nimport {Button} from \"@material-ui/core\";\r\nimport s from\"./MyButton.module.css\"\r\nimport {createNewTimer} from \"../../redux/timeReduser\";\r\n\r\nconst MyButton = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch()\r\n    const lastId = useSelector(state => state.timeReducer.time.length)\r\n    const [timerName, setTimerName] = useState('');\r\n    const onCreateNewTimer = () => {\r\n        let dateStart = Date.now();\r\n        dispatch(createNewTimer({\r\n            name:timerName,\r\n            start:dateStart,\r\n            id:lastId+1\r\n        }))\r\n    }\r\n    return (\r\n        <div >\r\n            <form className={classes.root} className={s.Wrapper} noValidate autoComplete=\"off\">\r\n                <MyInput className={s.Input} value={timerName} setValue={setTimerName} id=\"outlined-basic\"\r\n                         label=\"Введите название таймера\" variant=\"filled\"/>\r\n                <Button className={s.Button} variant=\"contained\" color=\"secondary\" onClick={() => onCreateNewTimer()}>Старт</Button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyButton;","import React, {useEffect, useState} from 'react';\r\nimport s from \"./Timer.module.css\"\r\nimport {Button} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {continueTimer, deactivateTimer, stopTimer} from \"../../../redux/timeReduser\";\r\n\r\nconst Timer = ({index, timer}) => {\r\n    const isStarted = useSelector(state => state.timeReducer.time[index].isStarted)\r\n    const time = useSelector(state => state.timeReducer.time)\r\n    const start = useSelector(state => state.timeReducer.time[index].start)\r\n    const dispatch = useDispatch()\r\n\r\n    const onStop = (id) => {\r\n        dispatch(stopTimer(id,activeSecond))\r\n    }\r\n    const onСontinue = (id) => {\r\n        let dateContinue =Date.now()\r\n        dispatch(continueTimer(id,activeSecond,dateContinue))\r\n    }\r\n    const onDeactivate = (id) => {\r\n        dispatch(deactivateTimer(id))\r\n    }\r\n\r\n    let [activeSecond, setActiveSecond] = useState(0)\r\n    let timerId\r\n    useEffect(() => {\r\n        if (isStarted === true) {\r\n            timerId = setTimeout(() => {\r\n                setActiveSecond(Math.round((Date.now() - start) * 0.001))\r\n            }, 1000);\r\n        }\r\n        if (isStarted === false) {\r\n                setActiveSecond(JSON.parse(localStorage.getItem(\"state\"))[index].activeSecond)\r\n        }\r\n        localStorage.setItem('state', JSON.stringify(time))\r\n        return()=>{\r\n            clearTimeout(timerId);\r\n        }\r\n    }, [activeSecond, isStarted])\r\n\r\n    function sToH(seconds){//stackoverflow.com\r\n        const days = Math.floor(seconds / (24*60*60));\r\n        seconds -= days * (24*60*60);\r\n        const hours    = Math.floor(seconds / (60*60));\r\n        seconds -= hours   * (60*60);\r\n        const minutes  = Math.floor(seconds / (60));\r\n        seconds -= minutes * (60);\r\n        return ((0<days)?(days+\":\"):\"\")+hours+\":\"+minutes+\":\"+seconds;\r\n    }//\r\n    return (!!timer && <div style={{\"gridArea\": `${index + 1} / 2 / ${index + 2} / 3`}} className={s.Timer}>\r\n        <div className={s.Name}>{timer.name}</div>\r\n        <div className={s.Date}>{sToH(activeSecond)}</div>\r\n        {!!isStarted === true\r\n            ? <Button className={s.Button} onClick={() => onStop(timer.id)} variant=\"contained\" color=\"primary\">Стоп</Button>\r\n            : <Button className={s.Button} onClick={() => onСontinue(timer.id)} variant=\"contained\" color=\"primary\">Продолжить</Button>}\r\n       <Button onClick={() => onDeactivate(timer.id)} variant=\"contained\" color=\"secondary\">Удалить</Button>\r\n    </div>\r\n    )\r\n        ;\r\n};\r\n\r\nexport default Timer;","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport s from \"./TimerList.module.css\"\r\nimport Timer from \"./Timer/Timer\";\r\n\r\nconst TimerList = () => {\r\n    const timeList = useSelector(state => state.timeReducer.time)\r\n    return (\r\n        <div className={s.TimerList}>\r\n            {!!timeList && timeList.map((timer,index)=><Timer key={index+\"list\"} index={index} timer={timer}/>)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TimerList;","import React, {useEffect} from 'react';\r\nimport s from \"../App.module.css\";\r\nimport MyButton from \"../Button/MyButton\";\r\nimport TimerList from \"../TimerList/TimerList\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setLocalStorageState} from \"../../redux/timeReduser\";\r\n\r\nconst Project = () => {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(setLocalStorageState(JSON.parse(localStorage.getItem(\"state\"))))\r\n    },[])\r\n    return (\r\n        <div>\r\n            <div className={s.App}>\r\n                <h2 className={s.Title}>Таймер</h2>\r\n                <div className={s.Content}><MyButton/></div>\r\n            </div>\r\n            <TimerList/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Project;","import {Provider} from \"react-redux\";\nimport {store} from \"../redux/Redux\";\nimport Project from \"./Project/Project\";\n\nfunction App() {\n\n    return (\n        <Provider store={store}>\n            <Project/>\n        </Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}