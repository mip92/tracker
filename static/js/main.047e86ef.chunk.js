(this.webpackJsonptracker=this.webpackJsonptracker||[]).push([[0],{28:function(e,t,n){e.exports={Timer:"Timer_Timer__1E4QJ",Button:"Timer_Button__2JqV1",Name:"Timer_Name__2jlMb",Date:"Timer_Date__jWjca"}},38:function(e,t,n){e.exports={App:"App_App__kZ_Iy",Content:"App_Content__h1TnG",Title:"App_Title__1eSDk"}},39:function(e,t,n){e.exports={Wrapper:"MyButton_Wrapper__1lQQQ",Input:"MyButton_Input__1YSEI",Button:"MyButton_Button__S3VaH"}},51:function(e,t,n){e.exports={TimerList:"TimerList_TimerList__1p15b"}},69:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(8),r=n.n(i),o=n(13),u=n(19),s=n(45),j=n(52),d=n(11),l={time:[]};var O=n(46),b=Object(u.combineReducers)({timeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEACTIVATE_TIMER":return Object(d.a)(Object(d.a)({},e),{},{time:e.time.filter((function(e){return e.id!=t.id}))});case"CONTINUE_TIMER":return Object(d.a)(Object(d.a)({},e),{},{time:e.time.map((function(e){if(e.id===t.id)return Object(d.a)(Object(d.a)(Object(d.a)({},e),{isStarted:!0}),{start:t.dateContinue-1e3*t.activeSecond})}))});case"SET_ACTIVE_SECOND":return Object(d.a)(Object(d.a)({},e),{},{time:e.time.map((function(e){if(e.id===t.id)return Object(d.a)(Object(d.a)({},e),{activeSecond:t.activeSecond})}))});case"STOP_TIMER":return Object(d.a)(Object(d.a)({},e),{},{time:e.time.map((function(e){if(e.id===t.id)return Object(d.a)(Object(d.a)(Object(d.a)({},e),{isStarted:!1}),{activeSecond:t.activeSecond})}))});case"SET_LOCAL_STORAGE_STATE":return Object(d.a)(Object(d.a)({},e),{},{time:t.state});case"CREATE_NEW_TIMER":var n={id:t.timerObj.id,name:t.timerObj.name?t.timerObj.name:"T\u0430\u0439\u043c\u0435\u0440 \u2116 ".concat(t.timerObj.id),start:t.timerObj.start,isStarted:!0,isMute:!1};return Object(d.a)(Object(d.a)({},e),{},{time:[].concat(Object(j.a)(e.time),[n])});default:return e}}}),m=Object(u.createStore)(b,Object(s.composeWithDevTools)(Object(u.applyMiddleware)(O.a))),f=n(38),_=n.n(f),v=n(22),p=n(37),T=n(103),S=n(6),E=function(e){var t=e.id,n=e.label,c=e.variant,a=e.value,i=e.setValue;return Object(S.jsx)("div",{children:Object(S.jsx)(T.a,{onChange:function(e){return i(e.target.value)},value:a,id:t,label:n,variant:c,fullWidth:!0})})},h=n(102),x=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}})),N=n(104),C=n(39),I=n.n(C),A=function(){var e,t=x(),n=Object(o.b)(),a=Object(o.c)((function(e){return e.timeReducer.time.length})),i=Object(c.useState)(""),r=Object(p.a)(i,2),u=r[0],s=r[1];return Object(S.jsx)("div",{children:Object(S.jsxs)("form",(e={className:t.root},Object(v.a)(e,"className",I.a.Wrapper),Object(v.a)(e,"noValidate",!0),Object(v.a)(e,"autoComplete","off"),Object(v.a)(e,"children",[Object(S.jsx)(E,{className:I.a.Input,value:u,setValue:s,id:"outlined-basic",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0430\u0439\u043c\u0435\u0440\u0430",variant:"filled"}),Object(S.jsx)(N.a,{className:I.a.Button,variant:"contained",color:"secondary",onClick:function(){return function(){var e=Date.now();n({type:"CREATE_NEW_TIMER",timerObj:{name:u,start:e,id:a+1}})}()},children:"\u0421\u0442\u0430\u0440\u0442"})]),e))})},y=n(51),M=n.n(y),R=n(28),g=n.n(R),D=function(e){var t,n=e.index,a=e.timer,i=Object(o.c)((function(e){return e.timeReducer.time[n].isStarted})),r=Object(o.c)((function(e){return e.timeReducer.time})),u=Object(o.c)((function(e){return e.timeReducer.time[n].start})),s=Object(o.b)(),j=Object(c.useState)(0),d=Object(p.a)(j,2),l=d[0],O=d[1];return Object(c.useEffect)((function(){return!0===i&&(t=setTimeout((function(){O(Math.round(.001*(Date.now()-u))),s({type:"SET_ACTIVE_SECOND",id:a.id,localActiveSecond:l})}),1e3)),!1===i&&O(JSON.parse(localStorage.getItem("state"))[n].activeSecond),console.log(r),localStorage.setItem("state",JSON.stringify(r)),function(){clearTimeout(t)}}),[l,i]),Object(S.jsxs)("div",{style:{"grid-area":"".concat(n+1," / 2 / ").concat(n+2," / 3")},className:g.a.Timer,children:[Object(S.jsx)("div",{className:g.a.Name,children:a.name}),Object(S.jsx)("div",{className:g.a.Date,children:function(e){var t=Math.floor(e/86400);e-=86400*t;var n=Math.floor(e/3600);e-=3600*n;var c=Math.floor(e/60);return(0<t?t+":":"")+n+":"+c+":"+(e-=60*c)}(l)}),!0===!!i?Object(S.jsx)(N.a,{onClick:function(){return e=a.id,void s(function(e,t){return{type:"STOP_TIMER",id:e,activeSecond:t}}(e,l));var e},variant:"contained",color:"primary",children:"\u0421\u0442\u043e\u043f"}):Object(S.jsx)(N.a,{onClick:function(){return function(e){var t=Date.now();s(function(e,t,n){return{type:"CONTINUE_TIMER",id:e,activeSecond:t,dateContinue:n}}(e,l,t))}(a.id)},variant:"contained",color:"primary",className:g.a.Button,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"}),Object(S.jsx)(N.a,{onClick:function(){return e=a.id,void s(function(e){return{type:"DEACTIVATE_TIMER",id:e}}(e));var e},variant:"contained",color:"secondary",className:g.a.Button,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},B=function(){var e=Object(o.c)((function(e){return e.timeReducer.time}));return Object(S.jsx)("div",{className:M.a.TimerList,children:!!e&&e.map((function(e,t){return Object(S.jsx)(D,{index:t,timer:e},t+"list")}))})},k=function(){var e=Object(o.b)();return Object(c.useEffect)((function(){var t;e({type:"SET_LOCAL_STORAGE_STATE",state:null==(t=JSON.parse(localStorage.getItem("state")))?[]:t})}),[]),Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:_.a.App,children:[Object(S.jsx)("h2",{className:_.a.Title,children:"\u0422\u0430\u0439\u043c\u0435\u0440"}),Object(S.jsx)("div",{className:_.a.Content,children:Object(S.jsx)(A,{})})]}),Object(S.jsx)(B,{})]})};var V=function(){return Object(S.jsx)(o.a,{store:m,children:Object(S.jsx)(k,{})})};r.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(V,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.047e86ef.chunk.js.map