{"version":3,"sources":["components/App.module.css","components/Button/MyButton.module.css","components/TimerList/TimerList.module.css","components/TimerList/Timer/Timer.module.css","redux/timeResucer.js","redux/Redux.js","components/Input/Input.jsx","style/style.js","components/Button/MyButton.jsx","redux/actions/buttonActions.js","components/TimerList/Timer/Timer.jsx","components/TimerList/TimerList.jsx","components/Project/Project.jsx","components/App.js","index.js"],"names":["module","exports","initState","time","rootReducer","combineReducers","timeReducer","state","action","type","filter","obj","id","map","u","isStarted","start","dateContinue","activeSecond","newTimer","timerObj","name","isMute","store","createStore","composeWithDevTools","applyMiddleware","thunk","MyInput","label","variant","value","setValue","TextField","onChange","e","target","useStyles","makeStyles","theme","root","margin","spacing","width","MyButton","classes","dispatch","useDispatch","lastId","useSelector","length","useState","timerName","setTimerName","className","s","Wrapper","Input","Button","color","onClick","dateStart","Date","now","onCreateNewTimer","Timer","timerId","index","timer","setActiveSecond","useEffect","setTimeout","Math","round","localActiveSecond","setSecond","JSON","parse","localStorage","getItem","console","log","setItem","stringify","clearTimeout","style","stopTimer","continueTimer","onСontinue","deactivateTimer","TimerList","timeList","Project","App","Title","Content","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.301b39ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__kZ_Iy\",\"Content\":\"App_Content__h1TnG\",\"Title\":\"App_Title__1eSDk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"MyButton_Wrapper__1lQQQ\",\"Input\":\"MyButton_Input__1YSEI\",\"Button\":\"MyButton_Button__S3VaH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TimerList\":\"TimerList_TimerList__1p15b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Timer\":\"Timer_Timer__1E4QJ\"};","import {updateObjectArray, updateObjectArrayDoubleParam} from \"../moment/objectHelper\";\r\n/*const initState = {\r\n    time: [\r\n        {id: \"\", name: \"\", start: \"\", isStarted: false, isMute: true, count}\r\n    ],\r\n}*/\r\nconst initState = {\r\n    time: [],\r\n}\r\nexport default function timeReducer(state = initState, action) {\r\n    switch (action.type) {\r\n        case \"DEACTIVATE_TIMER\": {\r\n            return {...state, time: state.time.filter(obj => obj.id != action.id)}\r\n        }\r\n        case \"CONTINUE_TIMER\": {\r\n            return {\r\n                ...state,\r\n                time: state.time.map(u => {\r\n                    debugger\r\n                    if (u.id === action.id) {\r\n                        return {\r\n                            ...u, ...{isStarted: true}, ...{start:action.dateContinue-action.activeSecond*1000}\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        case \"SET_ACTIVE_SECOND\": {\r\n            return {\r\n                ...state,\r\n                time: state.time.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return {\r\n                            ...u, ...{activeSecond: action.activeSecond}\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        case \"STOP_TIMER\": {\r\n            return {\r\n                ...state,\r\n                time: state.time.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return {\r\n                            ...u, ...{isStarted: false}, ...{activeSecond: action.activeSecond}\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        case \"SET_LOCAL_STORAGE_STATE\":{\r\n            return {\r\n                ...state,\r\n                time: action.state\r\n            }\r\n        }\r\n\r\n        case\"CREATE_NEW_TIMER\": {\r\n            let newTimer = {\r\n                id: action.timerObj.id,\r\n                name: !action.timerObj.name ? \"таймер\" : action.timerObj.name,\r\n                start: action.timerObj.start,\r\n                isStarted: true,\r\n                isMute: false,\r\n            }\r\n            return {...state, time: [...state.time, newTimer]}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const deactivateTimer = (id) => {\r\n    return {\r\n        type: \"DEACTIVATE_TIMER\",\r\n        id,\r\n    }\r\n}\r\n\r\nexport const stopTimer = (id, activeSecond) => {\r\n    return {\r\n        type: \"STOP_TIMER\",\r\n        id,\r\n        activeSecond\r\n    }\r\n}\r\nexport const continueTimer = (id,activeSecond, dateContinue) => {\r\n    return {\r\n        type: \"CONTINUE_TIMER\",\r\n        id,\r\n        activeSecond,\r\n        dateContinue\r\n    }\r\n}\r\nexport const setSecond = (id, localActiveSecond) => {\r\n    return {\r\n        type: \"SET_ACTIVE_SECOND\",\r\n        id,\r\n        localActiveSecond,\r\n    }\r\n}\r\nexport const setLocalStorageState = (state) => {\r\n    debugger\r\n\r\n    return {\r\n        type: \"SET_LOCAL_STORAGE_STATE\",\r\n        state:  state==null? [] : state\r\n    }\r\n}\r\n\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nimport timeReducer from \"./timeResucer\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst rootReducer = combineReducers({\r\n    timeReducer\r\n})\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst MyInput = ({id, label, variant, value, setValue}) => {\r\n    return (\r\n        <div>\r\n            <TextField\r\n                onChange={(e)=>setValue(e.target.value)}\r\n                value={value}\r\n                id={id}\r\n                label={label}\r\n                variant={variant}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyInput;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n            width: '25ch',\r\n        },\r\n    },\r\n}));\r\nexport default useStyles;","import React, {useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport MyInput from \"../Input/Input\";\r\nimport {createNewTimer} from \"../../redux/actions/buttonActions\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStyles from \"../../style/style\"\r\nimport {Button} from \"@material-ui/core\";\r\nimport s from\"./MyButton.module.css\"\r\nimport moment from \"moment\";\r\n\r\nconst MyButton = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch()\r\n    const lastId = useSelector(state => state.timeReducer.time.length)\r\n    const [timerName, setTimerName] = useState('');\r\n    const onCreateNewTimer = () => {\r\n        let dateStart = Date.now();\r\n        dispatch(createNewTimer({\r\n            name:timerName,\r\n            start:dateStart,\r\n            id:lastId+1\r\n        }))\r\n    }\r\n    return (\r\n        <div >\r\n            <form className={classes.root} className={s.Wrapper} noValidate autoComplete=\"off\">\r\n                <MyInput className={s.Input} value={timerName} setValue={setTimerName} id=\"outlined-basic\"\r\n                         label=\"Enter tracker name\" variant=\"filled\" />\r\n                <Button className={s.Button} variant=\"contained\" color=\"secondary\" onClick={() => onCreateNewTimer()}>Старт</Button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyButton;","\r\nexport const createNewTimer=(timerObj)=>{\r\n    return{\r\n        type: \"CREATE_NEW_TIMER\",\r\n        timerObj,\r\n    }\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport s from \"./Timer.module.css\"\r\nimport {Button} from \"@material-ui/core\";\r\n\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {continueTimer, deactivateTimer, setSecond, stopTimer} from \"../../../redux/timeResucer\";\r\nimport {createNewTimer} from \"../../../redux/actions/buttonActions\";\r\n\r\nconst Timer = ({index, timer}) => {\r\n    const isStarted = useSelector(state => state.timeReducer.time[index].isStarted)\r\n    const time = useSelector(state => state.timeReducer.time)\r\n    const start = useSelector(state => state.timeReducer.time[index].start)\r\n    const localActiveSecond = useSelector(state => state.timeReducer.time[index].activeSecond)\r\n    const dispatch = useDispatch()\r\n\r\n    const onStop = (id) => {\r\n        dispatch(stopTimer(id,activeSecond))\r\n    }\r\n    const onСontinue = (id) => {\r\n        let dateContinue =Date.now()\r\n        dispatch(continueTimer(id,activeSecond,dateContinue))\r\n    }\r\n    const onDeactivate = (id) => {\r\n        dispatch(deactivateTimer(id))\r\n    }\r\n\r\n    let [activeSecond, setActiveSecond] = useState(0)\r\n    let timerId\r\n    useEffect(() => {\r\n        if (isStarted === true) {\r\n            timerId = setTimeout(() => {\r\n                setActiveSecond(Math.round((Date.now() - start) * 0.001))\r\n                dispatch(setSecond(timer.id, activeSecond))\r\n            }, 1000);\r\n        }\r\n        if (isStarted === false) {\r\n                setActiveSecond(JSON.parse(localStorage.getItem(\"state\"))[index].activeSecond)\r\n        }\r\n        console.log(time)\r\n        localStorage.setItem('state', JSON.stringify(time))\r\n        return()=>{\r\n            clearTimeout(timerId);\r\n        }\r\n    }, [activeSecond, isStarted])\r\n\r\n\r\n    return (\r\n        <div style={{\"grid-area\": `${index + 1} / 2 / ${index + 2} / 3`}} className={s.Timer}>\r\n            <div>{timer.name}</div>\r\n            <div>{activeSecond}</div>\r\n            {/*<div>{`${timer.start.getHours()} : ${timer.start.getMinutes()} : ${timer.start.getSeconds()}`}</div>*/}\r\n            {!!isStarted === true\r\n                ? <Button onClick={() => onStop(timer.id)} variant=\"contained\" color=\"primary\">Стоп</Button>\r\n                : <Button onClick={() => onСontinue(timer.id)} variant=\"contained\" color=\"primary\">Продолжить</Button>}\r\n            <Button onClick={() => onDeactivate(timer.id)} variant=\"contained\" color=\"secondary\">Удалить</Button>\r\n        </div>\r\n\r\n    )\r\n        ;\r\n};\r\n\r\nexport default Timer;","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport s from \"./TimerList.module.css\"\r\nimport Timer from \"./Timer/Timer\";\r\n\r\nconst TimerList = () => {\r\n    const timeList = useSelector(state => state.timeReducer.time)\r\n    debugger\r\n    return (\r\n        <div className={s.TimerList}>\r\n            {!!timeList && timeList.map((timer,index)=><Timer key={index+\"list\"} index={index} timer={timer}/>)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TimerList;","import React, {useEffect} from 'react';\r\nimport s from \"../App.module.css\";\r\nimport MyButton from \"../Button/MyButton\";\r\nimport TimerList from \"../TimerList/TimerList\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setLocalStorageState} from \"../../redux/timeResucer\";\r\n\r\nconst Project = () => {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        debugger\r\n        dispatch(setLocalStorageState(JSON.parse(localStorage.getItem(\"state\"))))\r\n    },[])\r\n    return (\r\n        <div>\r\n            <div className={s.App}>\r\n                <h2 className={s.Title}>tracker</h2>\r\n                <div className={s.Content}><MyButton/></div>\r\n            </div>\r\n            <TimerList/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Project;","\nimport {Provider} from \"react-redux\";\nimport {store} from \"../redux/Redux\";\n\nimport Project from \"./Project/Project\";\n\nfunction App() {\n\n    return (\n        <Provider store={store}>\n            <Project/>\n        </Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}